## Создана библиотека ConfigurationProvider для извлечения системы конфигурации сервиса. 
Система конфигурации сервиса реализована в формате *json* и *xml*. Файлы *appsettings.json* и *config.xml* находятся в одной папке с *FileWatcher.exe* для возможности определять путь к файлам программно. 

В классе ***FileManager*** инициализируется поле *configOptions*, которое представляет собой объект класса, проверяющего существование и расширение файла, а также вызывающий метод **GetOptions()**.
Метод **GetOptions()** создает объект класса ***Provider***. Этот класс содержит конструктор, который в зависимости от расширения файла создает объект класса ***XmlParsser*** или ***JsonParser*** и присваивает его объекту *configurationParser* интерфейса ***IConfigurationParser***. Далее метод **GetOptions()** возвращает объект класса ***Т*** вызовом метода **Parse()** у объекта *configurationParser*. 
  
Метод **Parse()** находится в классах ***XmlParsser*** и ***JsonParser***. Этот метод позволяет десериализовать файл в передаваемую модель. В данном случае моделью является класс ***EtlOptions***. Также реализована возможность доставать конфигурацию не только целиком из всего файла, но и секциями, передавая либо полную модель с вложенными в нее другими моделями(*EtlOptions*), либо отдельно модели соответствующие секциям(например *ArchiveOptions*). 
  
Помимо **Parse()** в классе ***XmlParsser*** есть метод **ValidateXml(…)** для валидации *xml* файла с помощью *xsd* схемы, если таковая имеется.
  
После получения наполненного объекта класса ***EtlOptions*** вызывается метод **FileTransfer()**, который переименовывает, шифрует, переносит, расшифровывает и архивирует выбранный файл. 

#### В решении представлено 7 проектов:
1.	*DataManager*
2.	*ServiceLayer*
3.	*DataAccessLayer*
4.	*ExceptionLogger*
5.	*Models*
6.	*FileWatcher*
7.	*ConfigurationProvider*

**DataManager** содержит класс *FileGeneration*, который является оболочкой для генерации xml файла.

**ServiceLayer** содержит сервис для генерации xml файла: универсальный интерфейс *IGenerator* и класс *XmlGenerator*, реализующий этот интерфейс. В классе на базе передаваемой модели создается xml файл и его схема xsd.

**DataAccessLayer** содержит класс *PersonRepository*, который получает и обрабатывает данные из базы данных. С помощью метода GetPerson мы получаем все данные, с помощью GetPersonByID мы получаем данные по ID. Все операции с базой данных выполняются с использованием хранимых процедур.

**ExceptionLogger** содержит класс *Logger*, который обрабатывает исключения и помещает их в созданную таблицу ExceptionLog.

**Models** содержит все модели проекта: *Options*(модель для хранения конфигурационных данных), *Person*(модель для хранения информации из базы данных), *Procedure*(модель для хранения названия хранимых процедур).

**FileWatcher** это сама служба. В классе *FileManager* она запускается и с помощью метода FileTransfer переносит файл из изначальной папки в исходную с шифрованием, сжатием, архивированием.

Ну и **ConfigurationProvider** из прошлой лабы предоставляет конфигурации. Все конфигурации предоставляются в виде json/xml файлов, учитывая, что если не передан путь к конфигурационному файлу, то файл находится рядом с исполняемым файлом.
